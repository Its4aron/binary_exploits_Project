FROM debian:10

ARG DEBIAN_FRONTEND=noninteractive

RUN apt update; apt install -y openssh-server vim nano gdb gcc python3-pip
RUN python3 -m pip install pwntools

ADD ./challenges /root/challenges
ADD ./flags /root/flags

ADD ./docker_setup /root/
RUN /bin/bash /root/docker_setup

CMD ["/bin/sh","-c","mkdir /run/sshd; exec /usr/sbin/sshd -D"]
