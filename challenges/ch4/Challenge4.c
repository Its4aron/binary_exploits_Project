#include <stdio.h>
#include <stdlib.h>
#include <string.h>


typedef struct 
{
    void (*fp)();
}func_ptr;



void hacked()
{
    char *args[]={"/bin/cat","/flags/ch4.txt",NULL};
    execvp(args[0],args);
}

void loser()
{
    printf("Loser!\n");
}

void main()
{   
    func_ptr *ptr;
    char *buf;
    buf = malloc(sizeof(char)*10);
    ptr = malloc(sizeof(func_ptr));
    ptr->fp = loser;
    printf("Enter name:\n");
    gets(buf);
    ptr->fp();
  
}
